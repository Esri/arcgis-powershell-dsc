{
    "AllNodes": [
        {
            "NodeName": "[Machine Name]",
            "DataStoreTypes": [
                "Relational",
                "SpatioTemporal"
            ],
            "Role": [
                "Server",
                "Portal",
                "DataStore",
                "WebAdaptor"
            ],
            "WebAdaptorConfig":[
                {
                    "Role": "Portal"
                },
                {
                    "Role": "Server"
                }
            ]
        }
    ],
    "ConfigData": {
        "Version": "[Version of ArcGIS Deployment]",
        "ServerContext": "server",
        "PortalContext": "portal",
        "ServerRole": "GeneralPurposeServer",
        "Credentials": {
            "ServiceAccount": {
                "UserName": "[ServiceAccount Username - Can be a Domain Account]",
                "Password": "[ServiceAccount Password]",
                "IsDomainAccount": false,
                "IsMSAAccount": false
            },
            "ADServiceUser": {
                "UserName": "[ADServiceUser Username - Active Directory Service user for enabling use of Integrated Windows Authentication with your portal.]",
                "Password": "[ADServiceUser Password]"
            }
        },
        "Server": {
            "LicenseFilePath": "[License File Path - Server ]",
            "Installer": {
                "Path": "[Server Installer Path]",
                "VolumePaths": [
                    "[Server Installer Path].001"
                ],
                "InstallDir": "[Server Install Dir - Ex. C:\\ArcGIS\\Server]",
                "InstallDirPython": "[Python Install Dir - Ex. C:\\Python27] ",
                "PatchesDir": "[Path to Directory with Patches for Server]",
                "PatchInstallOrder": [
                    "Array of patch names to install in the needed order"
                ],
                "EnableArcMapRuntime": "[ Optional - True (Default) | False - Enables ArcMapRuntime. Available starting 10.9.1]",
                "EnableDotnetSupport": "[ Optional - True | False (Default)  - Enables .Net Extension Support. Available starting 10.9.1]"
            },
            "LocalRepositoryPath": "C:\\arcgisserver\\local",
            "ServerLogsLocation": "C:\\arcgisserver\\logs",
            "RegisteredDirectories": [
                {
                    "name": "BasemapsCacheDir",
                    "physicalPath": "C:\\arcgisserver\\additionaldirs\\cache",
                    "directoryType": "CACHE"
                }
            ],
            "PrimarySiteAdmin": {
                "UserName": "[PrimarySiteAdmin Username]",
                "Password": "[PrimarySiteAdmin Password]"
            },
            "CloudServices":{
                "Provider": "[Required - 'AWS' or 'Azure']",
                "Namespace": "[Required if using cloud services for Configuration Store and Service Directory - Unique identifiable string for your deployment to avoid conflicts.]",
                "Tags":[
                    {"key1": "value1"},
                    {"key2": "value2"},
                    {"key3": "value3"}
                ],
                "Azure":{
                    "Credential":{
                        "Type":"['ServicePrincipal','UserAssignedIdentity']",
                        "UserAssignedManagedIdentityClientId":"[Required if CredentialType is 'UserAssignedIdentity']",
                        "ServicePrincipal": {
                            "TenantId": "[Azure Service Principal Tenant Id]",
                            "ClientId": "[Azure Service Principal Client Id]",
                            "ClientSecret": "[Azure Service Principal Client Secret]",
                            "AuthorityHost": "[Optional - Default value is 'https://login.microsoftonline.com']"
                        }
                    },
                    "StorageAccount":{
                        "ContainerName":"[Required - Container Name]",
                        "RootDir": "",
                        "AccountEndpointURL":"[Required - Account Endpoint URL]",
                        "RegionEndpointURL":"[Optional - Region Endpoint URL]",
                        "Credential":{
                            "Type":"['StorageAccountKey']",
                            "StorageAccountKey":{
                                "AccountName":"[Required - Storage Account Name]",
                                "AccountKey":"[Required - Storage Account Key]"
                            }
                        }
                    },
                    "CosmosDBAccount":{
                        "AccountEndpointURL":"[Required - Table Endpoint URL]",
                        "RegionEndpointURL":"[Optional - Region Endpoint URL]",
                        "SubscriptionId":"[Required - CosmosDB Account Subscription Id - Optional if using CosmosDBAccountKey]",
                        "ResourceGroupName":"[Required - CosmosDB Account Resource Group Name - Optional if using CosmosDBAccountKey]",
                        "DatabaseId":"[Required - CosmosDB Account Database Id]",
                        "ConnectionMode":"[Optional - Default is 'Gateway' - Valid values: 'Direct','Gateway']",
                        "Credential":{
                            "Type":"['CosmosDBAccountKey']",
                            "CosmosDBAccountKey":{
                                "AccountName":"[Required - CosmosDB Account Name]",
                                "AccountKey":"[Required - CosmosDB Account Key]"
                            }
                        }
                    },
                    "ServiceBusNamespace":{
                        "ServiceBusEndpointUrl":"[Required - Service Bus Endpoint URL]",
                        "RegionEndpointURL":"[Optional - Region Endpoint URL]",
                        "Credential":{
                            "Type":"['ServiceBusNamespaceAccessKey']",
                            "ServiceBusNamespaceAccessKey":{
                                "SharedAccessKeyName":"[Required - Key Name]",
                                "SharedAccessKey":"[Required - Key Value]"
                            }
                        }
                    }
                },
                "AWS":{
                    "Region":"",
                    "Credential":{
                        "Type": "[IAMRole | AccessKey]",
                        "AccessKey":{
                            "AccessKeyId": "[Required - Access Key Id]",
                            "SecretKey": "[Required - Secret Access Key]"
                        }
                    },
                    "AmazonS3":{
                        "BucketName":"",
                        "RegionEndpointURL":"",
                        "RootDir":""
                    },
                    "AmazonDynamoDB":{
                        "RegionEndpointURL":""
                    },
                    "AmazonQueueService":{
                        "RegionEndpointURL":""
                    }
                },
                "localDirectory": "[Optional - C:\\arcgisserver\\local]"
            }
        },
        "Portal": {
            "LicenseFilePath": "[License File Path - Portal ]",
            "PortalLicenseUserTypeId": "[Portal License User Type Id- Required for 10.7 and above]",
            "Installer": {
                "Path": "[Portal Installer Path]",
                "VolumePaths": [
                    "[Portal Installer Path].001"
                ],
                "WebStylesPath": "[Optional Parameter starting ArcGIS Enterprise 10.7.1 - Portal Web Styles Installer Path]",
                "InstallDir": "[Portal Install Dir - Ex. C:\\ArcGIS\\Portal]",
                "ContentDir": "[Portal Content Dir for Install- Ex. C:\\arcgisportal",
                "PatchesDir": "[Path to Directory with Patches for Portal]",
                "PatchInstallOrder": [
                    "Array of patch names to install in the needed order"
                ]
            },
            "ContentDirectoryLocation":"C:\\arcgisportal\\content",
            "EnableAutomaticAccountCreation": true,
            "DefaultRoleForUser": "[Optional - Values: account_user | account_publisher | <custom role ID>]",
            "DefaultUserLicenseTypeIdForUser": "[Optional (Valid for 10.7 and later) - Values: fieldWorkerUT | GISProfessionalStdUT | GISProfessionalBasicUT | GISProfessionalAdvUT | creatorUT | editorUT | viewerUT]",
            "PortalAdministrator": {
                "UserName": "[PortalAdministrator Username]",
                "Email": "[PortalAdministrator Email]",
                "Password": "[PortalAdministrator Password]",
                "SecurityQuestionIndex": 1,
                "SecurityAnswer": "vanilla"
            },
            "PortalContentCloudStorageAccount":{
                "UserName": "[CloudStorageAccount Azure Storage Account Name/ AWS Access Id]",
                "Password": "[CloudStorageAccount Azure Storage Account Access Key or SAS Token/ AWS Secret Key ]",
                "CloudStorageType": "[Required - 'AzureBlob','AzureFiles','AWSS3DynamoDB']",
                "AzureFileShareName": "[Required if CloudStorageType is 'AzureFiles']",
                "CloudNamespace": "[Required if using cloud storage - Unique identifiable string for your deployment to avoid conflicts. The namespace used for the Azure Blob Storage Container must be unique for this ArcGIS portal site. For Azure, Powershell DSC Module will prepend the text arcgis-portal-content- to the name you provide. For AWS, this variable corresponds to Bucket Name which should have been created before running this module]",
                "AWSRegion": "[Required if CloudStorageType is 'AWSS3DynamoDB']",
                "AzureBlobAuthenticationType": "[Required if CloudStorageType is 'AzureBlob' - 'AccessKey','ServicePrincipal','UserAssignedIdentity','SASToken']",
                "AzureBlobUserAssignedIdentityClientId":"[Azure User Assigned Identity Client Id - Required if CloudStorageType is 'AzureBlob' and AzureBlobAuthenticationType is 'UserAssignedIdentity']",
                "AzureBlobServicePrincipal": {
                    "TenantId": "[Azure Service Principal Tenant Id]",
                    "ClientId": "[Azure Service Principal Client Id]",
                    "ClientSecret": "[Azure Service Principal Client Secret]",
                    "AuthorityHost": "[Optional - Default value is 'login.microsoftonline.com', introduced at 11.3]"
                }
            }
        },
        "DataStore": {
            "ContentDirectoryLocation": "[Content Dir DataStore - C:\\arcgisdatastore]",
            "EnableFailoverOnPrimaryStop": false,
            "Installer": {
                "Path": "[DataStore Installer Path]",
                "VolumePaths": [
                    "[DataStore Installer Path].001"
                ],
                "InstallDir": "[DataStore Install Dir - Ex. C:\\ArcGIS\\DataStore]",
                "PatchesDir": "[Path to Directory with Patches for DataStore]",
                "PatchInstallOrder": [
                    "Array of patch names to install in the needed order"
                ]
            }
        },
        "WebAdaptor": {
            "AdminAccessEnabled": true,
            "Installer": {
                "Path": "[WebAdaptor Installer Path]",
                "PatchesDir": "[Path to Directory with Patches for Web Adaptor]",
                "PatchInstallOrder": [
                    "Array of patch names to install in the needed order"
                ]
            }
        }
    }
}